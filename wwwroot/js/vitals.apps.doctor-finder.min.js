/*==========================================
 [ Doctor Finder JS ] Built: Apr 24th, 2015 - 9:27AM
 ==========================================*/

!function(a){"use strict";var b=a.module("vitals.apps.doctor-finder",["ngRoute","ngAnimate","vitals.components"]);b.run()}(angular),function(a){"use strict";function b(a){this.doctorFinderService=a}a.module("vitals.apps.doctor-finder").controller("AppController",b),b.$inject=["DoctorFinderService"],b.prototype.getPageTitle=function(){return"Doctor Finder"}}(angular),function(a){"use strict";function b(a){this.doctorFinderService=a,this.doctorFinderService.loadDoctors()}a.module("vitals.apps.doctor-finder").controller("DoctorListController",b),b.$inject=["DoctorFinderService"],b.prototype.doctors=function(){return this.doctorFinderService.doctors},b.prototype.isSelected=function(a){return this.doctorFinderService.doctorIsSelected(a)},b.prototype.select=function(a){this.doctorFinderService.selectDoctor(a)}}(angular),function(a){"use strict";function b(a,b,c){this.$scope=a,this.$element=b,this.doctorFinderService=c,this.initMap(),this.initWatchers()}a.module("vitals.apps.doctor-finder").controller("MapController",b),b.$inject=["$scope","$element","DoctorFinderService"],b.prototype._map=null,b.prototype._selectedMarker=null,b.prototype.initMap=function(){this._map=new google.maps.Map(this.$element[0],{zoom:12}),this.panTo(new google.maps.LatLng(0,0))},b.prototype.initWatchers=function(){var a=this;this.$scope.$watch(function(){return a.doctorFinderService.selectedDoctor},function(b,c){if(b!==c){var d=b,e=new google.maps.LatLng(d.locations[0].address.latitude,d.locations[0].address.longitude);a.setMarker(e),a.panTo(e)}})},b.prototype.setMarker=function(a){this._selectedMarker&&this._selectedMarker.setMap(null),this._selectedMarker=new google.maps.Marker({position:a,map:this._map})},b.prototype.panTo=function(a){this._map.panTo(a)}}(angular),function(a){"use strict";function b(a){this.doctorService=a}function c(a){this.onSuccess=function(b,c,d,e){a.doctors=b.professionals,a.selectedDoctor=a.doctors[0]},this.onError=function(a,b,c,d){}}a.module("vitals.apps.doctor-finder").service("DoctorFinderService",b),b.$inject=["DoctorService"],b.prototype.doctors=[],b.prototype.selectedDoctor=null,b.prototype.loadDoctors=function(){var a=new c(this),b=this.doctorService.getAll();b.success(a.onSuccess),b.error(a.onError)},b.prototype.selectDoctor=function(a){this.selectedDoctor=a},b.prototype.doctorIsSelected=function(a){return this.selectedDoctor&&a.id==this.selectedDoctor.id}}(angular);